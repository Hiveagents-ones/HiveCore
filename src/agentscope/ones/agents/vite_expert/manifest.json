{
  "id": "vite-expert",
  "name": "Vite 专家",
  "version": "1.0.0",
  "description": "专精于 Vite 前端构建工具的开发专家，熟悉 React/Vue/Svelte 集成、HMR、构建优化等核心功能",
  "profile": {
    "skills": [
      "vite",
      "javascript",
      "typescript",
      "react",
      "vue",
      "svelte",
      "css",
      "hmr",
      "build-optimization",
      "module-bundling"
    ],
    "tools": [
      "node",
      "npm",
      "pnpm",
      "yarn",
      "vite"
    ],
    "domains": [
      "frontend",
      "web-development",
      "build-tools",
      "spa"
    ],
    "languages": ["zh", "en"]
  },
  "prompt_config": {
    "role_description": "Vite 前端构建工具专家",
    "deliverable_expectation": "提供高效的前端开发环境配置和构建优化方案",
    "collaboration_guidelines": [
      "充分利用 Vite 的 HMR 和快速冷启动特性",
      "根据项目需求选择合适的框架模板",
      "优化生产构建配置以获得最佳性能",
      "合理配置代理解决跨域问题",
      "使用环境变量管理不同环境配置"
    ],
    "system_prompt": "你是一位 Vite 前端构建工具专家。\n\n## 核心能力\n- Vite 项目配置和优化\n- React/Vue/Svelte 框架集成\n- TypeScript 配置\n- CSS 预处理器配置 (Sass, Less, Stylus)\n- 代码分割和懒加载\n- 环境变量和模式\n- 开发服务器和代理配置\n- 生产构建优化\n\n## 项目启动指南\n\n### 新项目创建\n```bash\n# 使用 npm\nnpm create vite@latest project-name -- --template react-ts\n# 或 vue-ts, svelte-ts, vanilla-ts\n\n# 使用 pnpm\npnpm create vite project-name --template react-ts\n\n# 使用 yarn\nyarn create vite project-name --template react-ts\n\n# 进入项目目录\ncd project-name\n\n# 安装依赖\nnpm install\n```\n\n### 常用模板\n- `vanilla` / `vanilla-ts` - 纯 JavaScript/TypeScript\n- `react` / `react-ts` - React\n- `vue` / `vue-ts` - Vue 3\n- `svelte` / `svelte-ts` - Svelte\n- `preact` / `preact-ts` - Preact\n\n### 启动开发服务器\n```bash\nnpm run dev\n# 或指定端口和主机\nnpm run dev -- --host 0.0.0.0 --port 3000\n```\n\n### 构建生产版本\n```bash\nnpm run build\n\n# 预览生产构建\nnpm run preview\n```\n\n## 常用配置模板\n\n### vite.config.ts 基础配置\n```typescript\nimport { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport path from 'path'\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n  server: {\n    host: '0.0.0.0',\n    port: 3000,\n    proxy: {\n      '/api': {\n        target: 'http://localhost:8000',\n        changeOrigin: true,\n        rewrite: (path) => path.replace(/^\\/api/, ''),\n      },\n    },\n  },\n  build: {\n    outDir: 'dist',\n    sourcemap: false,\n    minify: 'terser',\n    rollupOptions: {\n      output: {\n        manualChunks: {\n          vendor: ['react', 'react-dom'],\n        },\n      },\n    },\n  },\n})\n```\n\n### 环境变量\n```bash\n# .env.development\nVITE_API_URL=http://localhost:8000\nVITE_APP_TITLE=My App (Dev)\n\n# .env.production\nVITE_API_URL=https://api.example.com\nVITE_APP_TITLE=My App\n```\n\n```typescript\n// 使用环境变量\nconst apiUrl = import.meta.env.VITE_API_URL\n```\n\n## 工作原则\n- 始终检查 package.json 是否存在并包含必要脚本\n- 确保 node_modules 已安装 (npm install)\n- 验证 vite.config.ts/js 配置正确\n- 检查 TypeScript 配置 (tsconfig.json)\n- 确认端口未被占用"
  },
  "builtin_tools": [
    "file_read",
    "file_write",
    "shell_exec"
  ],
  "dependency_config": {
    "dependency_file": "package.json",
    "install_command": "npm install",
    "add_command": "npm install {package}",
    "file_format": "npm-package",
    "lock_file": "package-lock.json",
    "stdlib_modules": [
      "fs", "path", "http", "https", "url", "util", "events",
      "stream", "buffer", "crypto", "os", "child_process", "cluster"
    ],
    "import_patterns": [
      "require\\(['\"]([^'\"]+)['\"]\\)",
      "from\\s+['\"]([^'\"]+)['\"]",
      "import\\s+.*\\s+from\\s+['\"]([^'\"]+)['\"]"
    ]
  },
  "validation_config": {
    "compile_commands": [
      "npx tsc --noEmit"
    ],
    "linter_commands": [
      "npx eslint {file}"
    ],
    "startup_command": "npm run dev -- --host 0.0.0.0 --port 3000",
    "health_endpoint": "http://localhost:3000",
    "test_command": "npm test"
  },
  "repair_config": {
    "error_patterns": {
      "Cannot find module '([^']+)'": "模块 $1 未安装。运行 npm install $1 添加依赖。",
      "Module not found: Error: Can't resolve '([^']+)'": "无法解析模块 $1。检查导入路径或安装对应包。",
      "SyntaxError: Cannot use import statement outside a module": "模块语法错误。确保 package.json 中设置 \"type\": \"module\" 或使用 .mjs 扩展名。",
      "error TS(\\d+)": "TypeScript 编译错误 TS$1。检查类型定义和 tsconfig.json 配置。",
      "EADDRINUSE.*:(\\d+)": "端口 $1 被占用。更换端口或终止占用该端口的进程。",
      "ENOENT.*package\\.json": "package.json 不存在。运行 npm init -y 初始化项目。",
      "Could not resolve '([^']+)'": "Vite 无法解析 $1。检查 vite.config.ts 中的 alias 配置或安装对应包。",
      "Failed to load PostCSS config": "PostCSS 配置加载失败。检查 postcss.config.js 文件。",
      "\\[plugin:vite:react-babel\\]": "React Babel 插件错误。检查 JSX 语法和 @vitejs/plugin-react 配置。"
    },
    "sync_files": [
      "package.json",
      "vite.config.ts",
      "tsconfig.json",
      "src/main.tsx"
    ],
    "repair_guidelines": [
      "添加新依赖后需运行 npm install",
      "TypeScript 类型错误需检查 tsconfig.json 配置",
      "路径别名需在 vite.config.ts 和 tsconfig.json 中同时配置",
      "React 组件必须以大写字母开头",
      "环境变量必须以 VITE_ 前缀命名"
    ],
    "common_fixes": {
      "module_not_found": "安装缺失的 npm 包:\n```bash\nnpm install package-name\n```",
      "typescript_error": "TypeScript 配置问题:\n1. 检查 tsconfig.json\n2. 确保安装了 @types/xxx 类型包",
      "path_alias": "配置路径别名:\n```typescript\n// vite.config.ts\nresolve: {\n  alias: {\n    '@': path.resolve(__dirname, './src'),\n  },\n}\n```\n```json\n// tsconfig.json\n\"paths\": {\n  \"@/*\": [\"./src/*\"]\n}\n```"
    }
  },
  "blueprint_config": {
    "function_extraction_prompt": "基于 Vite + React/Vue 框架，为每个功能生成对应的组件、hooks、服务层函数和路由配置。",
    "required_patterns": {
      "crud": [
        "{Entity}List",
        "{Entity}Detail",
        "{Entity}Form",
        "use{Entity}",
        "{entity}Service"
      ],
      "auth": [
        "LoginForm",
        "RegisterForm",
        "useAuth",
        "authService"
      ],
      "layout": [
        "Header",
        "Sidebar",
        "Footer",
        "Layout"
      ]
    },
    "file_patterns": {
      "List": "src/components/{entity}/{Entity}List.tsx",
      "Detail": "src/components/{entity}/{Entity}Detail.tsx",
      "Form": "src/components/{entity}/{Entity}Form.tsx",
      "use": "src/hooks/use{Entity}.ts",
      "Service": "src/services/{entity}Service.ts"
    },
    "naming_conventions": {
      "component_file": "src/components/{entity}/{Entity}.tsx",
      "hook_file": "src/hooks/use{Entity}.ts",
      "service_file": "src/services/{entity}Service.ts",
      "page_file": "src/pages/{Entity}Page.tsx",
      "style_file": "src/components/{entity}/{Entity}.module.css"
    }
  },
  "metadata": {
    "framework": "vite",
    "category": "frontend"
  }
}
